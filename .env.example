# Media File Organizer Configuration
# Copy this file to .env and update with your settings

# Directory paths
MEDIA_DOWNLOAD_DIR=/mnt/media/TV_Downloads
MEDIA_MOVIE_DIR=/mnt/MediaVaultV3/Movies/Movies
MEDIA_TV_CURRENT_DIR=/mnt/media/TV_Shows/Current
MEDIA_TV_CONCLUDED_DIR=/mnt/media/TV_Shows/Concluded

# TheTVDB API configuration (optional but recommended)
# Get your free API key from: https://thetvdb.com/dashboard/account/apikeys
TVDB_API_KEY=

# Fuzzy matching threshold (0-100, higher = stricter matching)
FUZZY_MATCH_THRESHOLD=80

# SFTP configuration (optional - for remote file deletion)
# Enable with --sftp-delete flag
SFTP_HOST=
SFTP_PORT=22
SFTP_USER=
SFTP_PASSWORD=
SFTP_REMOTE_DIR=/downloads
SFTP_TIMEOUT=30

# File transfer completion verification
# Ensures files are fully transferred before processing
FILE_STABILITY_CHECK_INTERVAL=10  # seconds between stability checks
FILE_STABILITY_CHECK_RETRIES=2    # number of checks to perform

# Allow 0-byte files to be moved (default: false)
# Set to true if you intentionally have 0-byte placeholder files
ALLOW_ZERO_BYTE_FILES=false

# Use hash verification for files not tracked by Syncthing (default: true)
# Computes file hash to verify stability - more reliable but slightly slower
HASH_CHECK_FOR_UNTRACKED=true

# Syncthing integration
# Detects Syncthing temporary files to prevent premature processing
SYNCTHING_ENABLED=true

# Syncthing REST API (optional but recommended for best sync detection)
# Provides real-time sync status and prevents race conditions
# To get API key: Open Syncthing web UI > Settings > General > API Key
SYNCTHING_URL=http://localhost:8384
SYNCTHING_API_KEY=
SYNCTHING_API_TIMEOUT=5  # API request timeout in seconds

# Syncthing Path Mapping (required if Syncthing runs on different machine/container)
# Maps Syncthing's reported paths to local paths
# Format: remote_path:local_path (comma-separated for multiple mappings)
# Example: SYNCTHING_PATH_MAPPING=/data/TV_Downloads:/mnt/content_organizer/syncthing/TV_Downloads
SYNCTHING_PATH_MAPPING=

# Logging
MEDIA_LOG_DIR=/var/log/media_organizer

# Runtime configuration
MEDIA_LOCK_FILE=/tmp/media_organizer.lock
MEDIA_CACHE_DIR=/tmp/media_organizer_cache
